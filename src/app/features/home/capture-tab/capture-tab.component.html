<ion-refresher slot="fixed" (ionRefresh)="refreshCaptures($event)">
  <ion-refresher-content></ion-refresher-content>
</ion-refresher>
<mat-card *transloco="let t" class="user-card" id="user-card">
  <app-avatar mat-card-avatar></app-avatar>
  <mat-card-header>
    <mat-card-title>{{ username$ | ngrxPush }}</mat-card-title>
    <div class="vertical-space-8"></div>
    <mat-card-subtitle>{{ email$ | ngrxPush }} </mat-card-subtitle>
  </mat-card-header>
</mat-card>
<app-uploading-bar></app-uploading-bar>
<div class="capture-container" *transloco="let t">
  <ng-container
    *ngFor="
      let group of capturesByDate$ | ngrxPush | keyvalue: keyDescendingOrder;
      first as isFirstGroup;
      trackBy: trackCaptureGroupByDate
    "
  >
    <div class="mat-title">{{ group.key | date: 'longDate' }}</div>
    <mat-grid-list cols="3" gutterSize="8px">
      <mat-grid-tile
        *ngFor="
          let proof of group.value;
          first as isFirstProof;
          trackBy: trackCaptureItem
        "
        class="capture-item"
        [joyrideStep]="
          isFirstGroup && isFirstProof ? 'highlightFirstCapture' : 'notFirst'
        "
        [title]="t('userGuide.capturedItem')"
        [text]="t('userGuide.openToSeeDetailsAndMoreActionItems')"
      >
        <app-capture-item [proof]="proof"></app-capture-item>
      </mat-grid-tile>
    </mat-grid-list>
  </ng-container>
</div>
